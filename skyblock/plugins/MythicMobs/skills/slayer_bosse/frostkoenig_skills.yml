# ===================================================
# Frostkönig Glacius Skills - Slayer Tier V Boss
# Enderman-Slayer Boss mit 3 Kampfphasen
# ===================================================

# ==========================================
# Phase 1 Skills (100%-65% HP)
# ==========================================

# Eispfeile - Frost arrow projectiles
EispfeileGlacius:
  Skills:
  - 'message{m="&b&lGlacius: &7Fühle die Kälte des ewigen Winters!"} @target'
  - effect:sound{s=entity.arrow.shoot;v=1.5;p=0.8} @self
  - projectile{onTick=Eispfeil_Tick;onHit=Eispfeil_Hit;v=2.5;i=1;hR=0.5;vR=0.5} @target

Eispfeil_Tick:
  Skills:
  - effect:particles{p=snowflake;a=3;hS=0.1;vS=0.1} @origin
  - effect:particles{p=item_snowball;a=2;hS=0.1;vS=0.1} @origin

Eispfeil_Hit:
  Skills:
  - damage{a=15} @target
  - potion{t=SLOW;d=80;l=2} @target
  - effect:particles{p=snowflake;a=30;hS=1;vS=1} @target
  - effect:sound{s=block.glass.break;v=1;p=1.2} @target

# Frostschild - Temporary shield
FrostschildGlacius:
  Skills:
  - 'message{m="&b&lGlacius: &7Der Frost schützt mich!"} @PlayersInRadius{r=30}'
  - effect:particles{p=snowflake;a=100;hS=2;vS=3} @self
  - effect:sound{s=block.glass.place;v=2;p=0.8} @self
  - potion{t=ABSORPTION;d=200;l=3} @self
  - potion{t=RESISTANCE;d=200;l=2} @self
  - effect:particles{p=end_rod;a=50;hS=2;vS=2} @self

# ==========================================
# Phase 2 Skills (65%-35% HP)
# ==========================================

# Blizzard - AoE frost storm
BlizzardGlacius:
  Skills:
  - 'message{m="&b&l>>> BLIZZARD ENTFESSELT! <<<"} @PlayersInRadius{r=30}'
  - effect:particles{p=snowflake;a=500;hS=10;vS=5} @self
  - effect:sound{s=entity.wither.shoot;v=1.5;p=0.5} @self
  - delay 30
  - damage{a=20} @PlayersInRadius{r=12}
  - potion{t=SLOW;d=200;l=5} @PlayersInRadius{r=12}
  - potion{t=BLINDNESS;d=100;l=1} @PlayersInRadius{r=12}
  - effect:particles{p=cloud;a=200;hS=12;vS=4} @self
  - effect:sound{s=entity.snow_golem.hurt;v=2;p=0.5} @self

# Einfrieren - Freezes player
EinfrierenGlacius:
  Skills:
  - 'message{m="&b&lGlacius: &7Werde zu Eis!"} @target'
  - effect:particles{p=snowflake;a=100;hS=2;vS=3} @target
  - effect:sound{s=block.glass.place;v=2;p=0.5} @target
  - setblock{material=ICE;duration=100} @target
  - potion{t=SLOW;d=100;l=10} @target
  - potion{t=WEAKNESS;d=100;l=3} @target
  - delay 100
  - setblock{material=AIR} @target
  - effect:particles{p=item_snowball;a=100;hS=2;vS=3} @target
  - 'message{m="&e<target.name> ist eingefroren!"} @PlayersInRadius{r=30}'

# Eis-Elementare Beschwörung
BeschwoereEisElementare:
  Skills:
  - 'message{m="&b&lGlacius: &7Brüder der Kälte, zu mir!"} @PlayersInRadius{r=30}'
  - effect:particles{p=snowflake;a=100;hS=4;vS=3} @self
  - effect:sound{s=entity.snow_golem.ambient;v=1.5;p=0.8} @self
  - delay 20
  - summon{t=Eis_Elementar;a=3;r=6} @self
  - effect:particles{p=cloud;a=150;hS=5;vS=3} @self

# ==========================================
# Phase 3 Skills (35%-0% HP)
# ==========================================

# Absolut Null - Ultimate freeze attack
AbsolutNullGlacius:
  Skills:
  - 'message{m="&b&l>>> GLACIUS WIRKT ABSOLUT NULL! <<<"} @PlayersInRadius{r=50}'
  - 'message{m="&c&lUNTERBRECHT IHN!"} @PlayersInRadius{r=50}'
  - effect:particles{p=snowflake;a=500;hS=8;vS=8} @self
  - effect:sound{s=entity.wither.spawn;v=2;p=0.5} @self
  - potion{t=SLOW;d=100;l=5} @self
  - delay 100
  - damage{a=60} @PlayersInRadius{r=18}
  - potion{t=SLOW;d=300;l=10} @PlayersInRadius{r=18}
  - potion{t=WITHER;d=200;l=2} @PlayersInRadius{r=18}
  - effect:particles{p=explosion_huge;a=10;hS=15;vS=6} @self
  - effect:sound{s=entity.generic.explode;v=2;p=0.5} @self
  - 'message{m="&b&lGlacius: &7DER EWIGE WINTER IST GEKOMMEN!"} @PlayersInRadius{r=30}'

# Frost-Nova - Ice explosion
FrostNovaGlacius:
  Skills:
  - 'message{m="&b&lGlacius: &7ZERBERSTE!"} @PlayersInRadius{r=30}'
  - effect:particles{p=snowflake;a=200;hS=5;vS=3} @self
  - effect:sound{s=block.glass.break;v=2;p=0.5} @self
  - delay 20
  - damage{a=35} @PlayersInRadius{r=10}
  - throw{v=2;y=1} @PlayersInRadius{r=10}
  - potion{t=SLOW;d=150;l=3} @PlayersInRadius{r=10}
  - effect:particles{p=explosion_huge;a=5;hS=8;vS=4} @self

# Phase 3 Rage Buff
RageBuffGlacius:
  Skills:
  - 'message{m="&b&lGlacius: &7Der Winter ENDET NIE!"} @PlayersInRadius{r=30}'
  - potion{t=SPEED;d=999999;l=2} @self
  - potion{t=INCREASE_DAMAGE;d=999999;l=2} @self
  - effect:particles{p=angry_villager;a=50;hS=2;vS=2} @self
  - effect:sound{s=entity.ender_dragon.growl;v=1.5;p=0.5} @self

# ==========================================
# Boss Dialog Skills
# ==========================================

# Start Dialog
GlaciusStartDialog:
  Skills:
  - 'message{m="&b&lGlacius: &7Ihr wagt es, den Frostkönig herauszufordern? Der ewige Winter wird euch verschlingen!"} @PlayersInRadius{r=30}'
  - effect:sound{s=entity.snow_golem.ambient;v=2;p=0.5} @self
  - delay 40
  - skill{s=BossSpawnAnnounce} @self

# Phase 2 Dialog
GlaciusPhase2Dialog:
  Skills:
  - 'message{m="&b&lGlacius: &7Ihr seid hartnäckig... doch die Kälte wird euch brechen!"} @PlayersInRadius{r=30}'
  - effect:sound{s=entity.snow_golem.hurt;v=2;p=0.5} @self
  - skill{s=PhaseTransition} @self

# Phase 3 Dialog
GlaciusPhase3Dialog:
  Skills:
  - 'message{m="&b&lGlacius: &7GENUG! Der ewige Winter wird ALLES verschlingen!"} @PlayersInRadius{r=30}'
  - effect:sound{s=entity.wither.angry;v=2;p=0.5} @self
  - skill{s=PhaseTransition} @self
  - delay 20
  - skill{s=RageBuffGlacius} @self

# Death Dialog
GlaciusDeathDialog:
  Skills:
  - 'message{m="&b&lGlacius: &7Nein... der ewige Winter... er darf nicht enden..."} @PlayersInRadius{r=50}'
  - effect:sound{s=entity.snow_golem.death;v=2;p=0.5} @self
  - delay 20
  - skill{s=BossDeathEffects} @self
