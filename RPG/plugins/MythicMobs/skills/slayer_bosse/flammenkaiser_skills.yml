# ===================================================
# Flammenkaiser Ignis Skills - Slayer Tier V Boss
# Blaze-Slayer Boss mit 3 Kampfphasen
# ===================================================

# ==========================================
# Phase 1 Skills (100%-60% HP)
# ==========================================

# Feuerbälle - Fire projectiles
FeuerballeIgnis:
  Skills:
  - 'message{m="&6&lIgnis: &7Verbrennt in den ewigen Flammen!"} @target'
  - effect:sound{s=entity.blaze.shoot;v=1.5;p=1} @self
  - projectile{onTick=Feuerball_Tick;onHit=Feuerball_Hit;v=2;i=1;hR=0.5;vR=0.5} @target

Feuerball_Tick:
  Skills:
  - effect:particles{p=flame;a=5;hS=0.2;vS=0.2} @origin
  - effect:particles{p=lava;a=2;hS=0.1;vS=0.1} @origin

Feuerball_Hit:
  Skills:
  - damage{a=18;ia=0.5} @target
  # Remove fire resistance so players can be ignited
  - potion{t=FIRE_RESISTANCE;d=0;l=0} @target
  - ignite{t=100} @target
  - effect:particles{p=explosion_large;a=2;hS=1;vS=1} @target
  - effect:sound{s=entity.generic.explode;v=1;p=1.2} @target
  - damage{a=8} @PlayersInRadius{r=3}

# Feueraura - Burns nearby players
FeuerauraIgnis:
  Skills:
  - 'message{m="&6&lIgnis: &7Die Hitze ist unerträglich!"} @PlayersInRadius{r=30}'
  - effect:particles{p=flame;a=200;hS=3;vS=3} @self
  - effect:sound{s=block.fire.ambient;v=2;p=0.8} @self
  - damage{a=12} @PlayersInRadius{r=8}
  - ignite{t=80} @PlayersInRadius{r=8}
  - effect:particles{p=lava;a=100;hS=8;vS=2} @self

# ==========================================
# Phase 2 Skills (60%-30% HP)
# ==========================================

# Lavawellen - Waves of lava
LavawellenIgnis:
  Skills:
  - 'message{m="&6&l>>> LAVAWELLEN! <<<"} @PlayersInRadius{r=30}'
  - effect:particles{p=lava;a=300;hS=10;vS=2;y=0} @self
  - effect:sound{s=block.lava.pop;v=2;p=0.5} @self
  - delay 40
  - damage{a=25} @PlayersInRadius{r=15}
  - ignite{t=120} @PlayersInRadius{r=15}
  # Remove fire resistance so players can be ignited
  - potion{t=FIRE_RESISTANCE;d=0;l=0} @PlayersInRadius{r=15}
  - effect:particles{p=flame;a=500;hS=15;vS=3} @self
  - effect:sound{s=entity.generic.burn;v=2;p=0.5} @self

# Meteore - Falling fire meteors
MeteoreIgnis:
  Skills:
  - 'message{m="&6&lIgnis: &7Feuer vom Himmel!"} @target'
  - 'message{m="&c&lMETEORE FALLEN! WEICHT AUS!"} @PlayersInRadius{r=30}'
  - effect:particles{p=flame;a=200;hS=5;vS=10} @target
  - effect:sound{s=entity.ghast.warn;v=1.5;p=0.8} @self
  - delay 60
  - damage{a=45} @PlayersInRadius{r=5;targetLocation=@target}
  - ignite{t=150} @PlayersInRadius{r=5;targetLocation=@target}
  - effect:particles{p=explosion_huge;a=3;hS=4;vS=4} @target
  - effect:sound{s=entity.generic.explode;v=2;p=0.5} @target

# Feuer-Elementare Beschwörung
BeschwoereFeuerElementare:
  Skills:
  - 'message{m="&6&lIgnis: &7Brüder der Flamme, erhebt euch!"} @PlayersInRadius{r=30}'
  - effect:particles{p=flame;a=150;hS=4;vS=3} @self
  - effect:sound{s=entity.blaze.ambient;v=1.5;p=0.8} @self
  - delay 20
  - summon{t=Feuer_Elementar;a=2;r=6} @self
  - effect:particles{p=lava;a=200;hS=5;vS=3} @self

# ==========================================
# Phase 3 Skills (30%-0% HP)
# ==========================================

# Supernova - Ultimate channeling fire attack
SupernovaIgnis:
  Skills:
  - 'message{m="&6&l>>> IGNIS WIRKT SUPERNOVA! <<<"} @PlayersInRadius{r=50}'
  - 'message{m="&c&l10 SEKUNDEN BIS ZUR EXPLOSION! UNTERBRECHT IHN!"} @PlayersInRadius{r=50}'
  - effect:particles{p=flame;a=1000;hS=15;vS=15} @self
  - effect:sound{s=entity.wither.spawn;v=2;p=0.5} @self
  - potion{t=SLOW;d=200;l=10} @self
  - delay 200
  - damage{a=80} @PlayersInRadius{r=25}
  - ignite{t=200} @PlayersInRadius{r=25}
  - 'message{m="&6&lIgnis: &7DIE SONNE BRENNT!"} @PlayersInRadius{r=50}'
  - effect:particles{p=explosion_huge;a=20;hS=20;vS=10} @self
  - effect:sound{s=entity.generic.explode;v=2;p=0.5} @self

# Flammen-Inferno - Continuous fire damage
FlammenInfernoIgnis:
  Skills:
  - 'message{m="&6&lIgnis: &7Das Inferno verschlingt ALLES!"} @PlayersInRadius{r=30}'
  - effect:particles{p=flame;a=500;hS=12;vS=5} @self
  - effect:sound{s=block.fire.ambient;v=2;p=0.5} @self
  - delay 20
  - damage{a=30} @PlayersInRadius{r=12}
  - ignite{t=100} @PlayersInRadius{r=12}
  - potion{t=WEAKNESS;d=100;l=2} @PlayersInRadius{r=12}
  - effect:particles{p=lava;a=300;hS=12;vS=3} @self

# Phase 3 Rage Buff
RageBuffIgnis:
  Skills:
  - 'message{m="&6&lIgnis: &7Die Flammen werden STÄRKER!"} @PlayersInRadius{r=30}'
  - potion{t=SPEED;d=999999;l=2} @self
  - potion{t=INCREASE_DAMAGE;d=999999;l=3} @self
  - effect:particles{p=angry_villager;a=50;hS=2;vS=2} @self
  - effect:sound{s=entity.ender_dragon.growl;v=1.5;p=0.5} @self

# ==========================================
# Boss Dialog Skills
# ==========================================

# Start Dialog
IgnisStartDialog:
  Skills:
  - 'message{m="&6&lIgnis: &7Ihr wagt es, den Flammenkaiser herauszufordern? Verbrennt zu Asche!"} @PlayersInRadius{r=30}'
  - effect:sound{s=entity.blaze.ambient;v=2;p=0.5} @self
  - delay 40
  - skill{s=BossSpawnAnnounce} @self

# Phase 2 Dialog
IgnisPhase2Dialog:
  Skills:
  - 'message{m="&6&lIgnis: &7Die Hitze steigt... ihr werdet schmelzen!"} @PlayersInRadius{r=30}'
  - effect:sound{s=entity.blaze.hurt;v=2;p=0.5} @self
  - skill{s=PhaseTransition} @self

# Phase 3 Dialog
IgnisPhase3Dialog:
  Skills:
  - 'message{m="&6&lIgnis: &7GENUG! Ich werde euch ALLE verbrennen!"} @PlayersInRadius{r=30}'
  - effect:sound{s=entity.blaze.death;v=2;p=0.5} @self
  - skill{s=PhaseTransition} @self
  - delay 20
  - skill{s=RageBuffIgnis} @self

# Death Dialog
IgnisDeathDialog:
  Skills:
  - 'message{m="&6&lIgnis: &7Nein... die Flammen... sie erlöschen..."} @PlayersInRadius{r=50}'
  - effect:sound{s=block.fire.extinguish;v=2;p=0.5} @self
  - delay 20
  - skill{s=BossDeathEffects} @self
